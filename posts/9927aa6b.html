<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js').then(() => {
    if (localStorage.getItem('install') !== 'true') {
      localStorage.setItem('install', 'true')
      location.reload()
    }
  })
}


</script><!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>用于CRISPR的gRNA的设计 | Eamon 's Blog</title><meta name="author" content="Eamon"><meta name="copyright" content="Eamon"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前排：我这都是抄的，你要转发引用什么的千万别说是从我这里看到的，去引用原文链接。  How to Design Your gRNA for CRISPR Genome Editing (addgene.org)  Originally published May 3, 2017 and last updated Sep 24, 2020 This post was contributed by g">
<meta property="og:type" content="article">
<meta property="og:title" content="用于CRISPR的gRNA的设计">
<meta property="og:url" content="https://fanyiming.life/posts/9927aa6b.html">
<meta property="og:site_name" content="Eamon &#39;s Blog">
<meta property="og:description" content="前排：我这都是抄的，你要转发引用什么的千万别说是从我这里看到的，去引用原文链接。  How to Design Your gRNA for CRISPR Genome Editing (addgene.org)  Originally published May 3, 2017 and last updated Sep 24, 2020 This post was contributed by g">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/cover/default_top_dark.webp">
<meta property="article:published_time" content="2023-03-21T06:49:48.000Z">
<meta property="article:modified_time" content="2023-03-21T09:42:43.000Z">
<meta property="article:author" content="Eamon">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/cover/default_top_dark.webp"><link rel="shortcut icon" href="/"><link rel="canonical" href="https://fanyiming.life/posts/9927aa6b"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="manifest" href="/manifest.json"/><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/favicon-16x16.png"/><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Eamon","link":"链接: ","source":"来源: Eamon 's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '用于CRISPR的gRNA的设计',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-21 17:42:43'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><!--51统计--><script async>LA.init({id:"JwD86BiWuxhyXMKp",ck:"JwD86BiWuxhyXMKp"})</script><!--51统计--><script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script><!--51统计灵雀--><script async>new LingQue.Monitor().init({id:"JwD9pnbCgrdQPtN8"});</script><!--51统计灵雀--><script type="text/javascript" src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css"><!--APlayer的样式--><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/js-heo@1.0.11/mainColor/heoMainColor.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/js-heo@1.0.11/categoryBar/categoryBar.css"><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script data-pjax async src="/js/custom/customdatapjax.js"></script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Eamon 's Blog" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">90</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-newspaper"></use></svg><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-tag"></use></svg><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder"></use></svg><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-LINKS"></use></svg><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-addfriend"></use></svg><span> 友链</span></a></li><li><a class="site-page child" href="/fcircle"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-social_circle"></use></svg><span> 友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/resources/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-download_from_the_cload"></use></svg><span> 资源</span></a></div><div class="menus_item"><a class="site-page" href="/MessageBox/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-message"></use></svg><span> 留言</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://www.travellings.cn/go.html"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-Subway"></use></svg><span> 开往</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-avatar"></use></svg><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://eamonimgbed.oss-cn-beijing.aliyuncs.com/cover/default_top_dark.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Eamon 's Blog</a></span><div id="none_space"></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-newspaper"></use></svg><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-tag"></use></svg><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder"></use></svg><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-LINKS"></use></svg><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-addfriend"></use></svg><span> 友链</span></a></li><li><a class="site-page child" href="/fcircle"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-social_circle"></use></svg><span> 友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/resources/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-download_from_the_cload"></use></svg><span> 资源</span></a></div><div class="menus_item"><a class="site-page" href="/MessageBox/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-message"></use></svg><span> 留言</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://www.travellings.cn/go.html"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-Subway"></use></svg><span> 开往</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-avatar"></use></svg><span> 关于</span></a></div></div></div><div id="nav-right"><div id="randomPost"><a class="site-page social-icon search" href="javascript:;" onclick="randomPost()" title="随机访问一篇文章"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-Flattd-Dice"></use></svg></a></div><div id="EamonMusic"><a class="site-page social-icon search" href="javascript:;" onclick="playMusic()" title="播放或暂停音乐"> <svg class="icon" aria-hidden="true"><use xlink:href="#icon-music"></use></svg></a></div><div id="search-button"><a class="site-page social-icon search"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"></use></svg></a></div><div id="toggle-menu"><a class="site-page"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-more"></use></svg></a></div></div></nav><div id="post-info"><h1 class="post-title">用于CRISPR的gRNA的设计</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-03-21T06:49:48.000Z" title="发表于 2023-03-21 14:49:48">2023-03-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-21T09:42:43.000Z" title="更新于 2023-03-21 17:42:43">2023-03-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%94%B6%E8%97%8F%E5%B0%8F%E9%97%B4/">收藏小间</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">1.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>10分钟</span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>前排：我这都是抄的，你要转发引用什么的千万别说是从我这里看到的，去引用原文链接。</p>
</div>
<p><a target="_blank" rel="noopener" href="https://blog.addgene.org/how-to-design-your-grna-for-crispr-genome-editing">How to Design Your gRNA for CRISPR Genome Editing (addgene.org)</a></p>
<blockquote>
<p><em>Originally published May 3, 2017 and last updated Sep 24, 2020</em></p>
<p><em>This post was contributed by guest blogger, Addgene Advisory Board member, and Institute Scientist at the Broad Institute, John Doench.</em></p>
<p>CRISPR technology has made it easier than ever both to engineer specific DNA edits and to perform functional screens to identify genes involved in a phenotype of interest. This blog post will discuss differences between these approaches, and provide updates on how best to design gRNAs. You can also find validated gRNAs for your next experiment in Addgene’s <a target="_blank" rel="noopener" href="https://blog.addgene.org/share-your-grna-sequences-with-the-addgene-community?_ga=2.239197764.637311910.1600949356-823758066.1600949356">Validated gRNA Sequence Datatable</a>. A more extended discussion of these subjects can be found in two recent review articles (<a target="_blank" rel="noopener" href="https://doi.org/10.1038/nrg.2017.97">Doench et al., 2017</a>, and <a target="_blank" rel="noopener" href="https://doi.org/10.1038/s41587-020-0490-7">Hanna et al., 2020</a>) and references therein.</p>
</blockquote>
<h2 id="mportant-considerations-before-you-start-an-experiment-with-CRISPR"><a href="#mportant-considerations-before-you-start-an-experiment-with-CRISPR" class="headerlink" title="mportant considerations before you start an experiment with CRISPR"></a>mportant considerations before you start an experiment with CRISPR</h2><p>The hammer, the jigsaw, and the wrench are all great tools, but which one you use, of course, depends on what you are trying to do – there’s no “best” tool among them. While this seems obvious, it is important to remember that the same is true when designing gRNAs for using CRISPR technology – the “best” gRNA depends an awful lot on what you are trying to do: gene knockout, a specific base edit, or modulation of gene expression.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.addgene.org/hs-fs/hubfs/4_17_to_6_17/howToDesignGRNAUpdate_JD_2017_5_3/Sequence%20v%20Location%20300px.jpg?width=300&amp;name=Sequence%20v%20Location%20300px.jpg" alt="Sequence v Location">Location and sequence are important considerations for designing your gRNAs. For indels, it’s not so important what location in the gene you target, but it is important that your gRNA sequence is designed to be highly active and reduce off targets. For CRISPRa and CRISPRi, these considerations are of roughly equal importance (target should be near the TSS but you can worry less about sequence optimality because you generally have fewer sequences to choose from). Finally, for HDR, location is much more important because you have to target within ~30 nt of your proposed edit, which means there are so few gRNAs to choose from that sequence preferences must largely be ignored.</p>
<h3 id="The-hammer-Gene-knockout-by-NHEJ"><a href="#The-hammer-Gene-knockout-by-NHEJ" class="headerlink" title="The hammer: Gene knockout by NHEJ"></a>The hammer: Gene knockout by NHEJ</h3><p><strong><br><a target="_blank" rel="noopener" href="https://blog.addgene.org/crispr-101-non-homologous-end-joining"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.addgene.org/hs-fs/hubfs/9_16-12_16/CRISPR_Knock_Out-911967-edited.jpg?width=354&amp;name=CRISPR_Knock_Out-911967-edited.jpg" alt="Using CRISPR to create Indels"></a></strong><a target="_blank" rel="noopener" href="https://www.addgene.org/crispr/guide/#ko-generation">Gene knockout</a> with CRISPR technology is usually accomplished by Cas9-mediated dsDNA breaks: following a cut, the error-prone nature of non-homologous end joining (<a target="_blank" rel="noopener" href="https://blog.addgene.org/crispr-101-non-homologous-end-joining?_ga=2.172078436.637311910.1600949356-823758066.1600949356">NHEJ</a>) often leads to the generation of indels and thus frameshifts that disrupt the protein-coding capacity of a locus. When using <a target="_blank" rel="noopener" href="https://www.addgene.org/crispr/empty-grna-vectors/"><em>S. pyogenes Cas9</em></a> (SpCas9), potential target sites are both [5’-20nt-NGG] and [5’-CCN-20nt], as it is equally efficacious to target the coding or non-coding strand of DNA. <mark>As a rule of thumb, we avoid target sites that code for amino acids near the N’ terminus of the protein, in order to mitigate the ability of the cell to use an alternative ATG downstream of the annotated start codon. Likewise, we avoid target sites that code for amino acids close to the C’ terminus of the protein, to maximize the chances of creating a non-functional allele.</mark> For a 1 kilobase gene, since potential target sites occur ~1 in every 8 nucleotides, restricting gRNAs to 5 – 65% of the protein coding region will still result in many dozens of gRNAs to choose from. With so many possibilities, picking a gRNA with an optimized sequence is of primary importance (more on this below).</p>
<h3 id="The-jigsaw-Editing-by-HDR-base-editing-and-prime-editing"><a href="#The-jigsaw-Editing-by-HDR-base-editing-and-prime-editing" class="headerlink" title="The jigsaw: Editing by HDR, base editing, and prime editing"></a>The jigsaw: Editing by HDR, base editing, and prime editing</h3><p><strong><a target="_blank" rel="noopener" href="https://blog.addgene.org/crispr-101-homology-directed-repair"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.addgene.org/hs-fs/hubfs/9_16-12_16/CRISPR_Genome_Editing.jpg?width=478&amp;name=CRISPR_Genome_Editing.jpg" alt="Using CRISPR to perform genome editing"></a></strong></p>
<p>For a specific edit, such as the insertion of a <a target="_blank" rel="noopener" href="https://www.addgene.org/crispr/tagging/">fluorescent tag</a> or the introduction of a specific mutation, one generally relies on <a target="_blank" rel="noopener" href="https://blog.addgene.org/crispr-101-homology-directed-repair?_ga=2.6082932.637311910.1600949356-823758066.1600949356">homology directed repair</a> (HDR) to incorporate new information into DNA. This also requires an exogenous DNA template. <mark>HDR, however, is a very low-efficiency process, and usually involves the need for single cell cloning and subsequent screening for successful edits. This is a very time consuming process and should not be undertaken lightly! Indeed, truly achieving the gold standard requires not one but <em>two</em> rounds of single cell cloning – as a control, one should revert the edit back to the original in order to prove that the phenotype was really due to the intended edit rather than some passenger variant that came along with the single cell clone (although this is rarely done).</mark></p>
<p>When targeting a dsDNA break for HDR, the choice of target site is far more constrained by the desired location of edit; <a target="_blank" rel="noopener" href="https://doi.org/10.1093/nar/gkt555">efficiency decreases dramatically when the cut site is &gt;30nt from the proximal ends</a> of the repair template (Yang et al., 2013). This means that, for gene editing, there are usually few potential gRNAs. While SpCas9, with a PAM preference of NGG, is still the most widely-used Cas enzyme, the development of SaCas9, NmeCas9, Cas12a enzymes, and engineered variants thereof offers additional <a target="_blank" rel="noopener" href="https://blog.addgene.org/the-pam-requirement-and-expanding-crispr-beyond-spcas9?_ga=2.6082932.637311910.1600949356-823758066.1600949356">PAM options that can greatly expand gRNA options</a>.</p>
<p>Two newer technologies offer an alternative to HDR for introducing edits. The same locational constraints are even more exquisite for the so-called <a target="_blank" rel="noopener" href="https://blog.addgene.org/single-base-editing-with-crispr?_ga=2.6082932.637311910.1600949356-823758066.1600949356">base editor Cas9</a>, which makes DNA changes in the absence of dsDNA breaks (<a target="_blank" rel="noopener" href="https://doi.org/10.1038/s41576-018-0059-1">Rees et al., 2018</a>). For C&gt;T and A&gt;G base editors, the intended edit must be in a 5 - 10 nt window relative to the PAM, and bystander edits are possible if there is another target C or A in the window. Another technology, <a target="_blank" rel="noopener" href="https://blog.addgene.org/prime-editing-crisp-cas-reverse-transcriptase?_ga=2.6082932.637311910.1600949356-823758066.1600949356">prime editing</a> (reviewed in <a target="_blank" rel="noopener" href="https://doi.org/10.1038/s41587-020-0561-9">Anzalone et al., 2020</a>). is not limited to single nucleotide transitions but still requires a nearby PAM, although these are still early days for this technology, and the user may need to optimize numerous parameters to generate the desired edit.</p>
<h3 id="The-wrench-Gene-activation-and-inhibition-by-CRISPRa-and-CRISPRi"><a href="#The-wrench-Gene-activation-and-inhibition-by-CRISPRa-and-CRISPRi" class="headerlink" title="The wrench: Gene activation and inhibition by CRISPRa and CRISPRi"></a>The wrench: Gene activation and inhibition by CRISPRa and CRISPRi</h3><p>Finally, for modulating gene expression at the level of transcription – <a target="_blank" rel="noopener" href="https://www.addgene.org/crispr/activate/">CRISPRa</a> (activation) and <a target="_blank" rel="noopener" href="https://www.addgene.org/crispr/interfere/">CRISPRi</a> (inhibition) technologies – a nuclease-dead Cas9 (dCas9) is directed near the promoter of a target gene. Here, the target window is not quite as broad as for knockout via CRISPR cutting. For CRISPRa, it is most-efficacious to target a ~100nt window upstream of the transcription start site (TSS), while for CRISPRi, a ~100nt window downstream of the TSS gives the most activity. Thus, a given gene will only have a dozen or so gRNAs to choose from in the optimal location. It is also important to have good information on the exact location of the TSS. Different databases annotate the TSS in different ways, and it has been shown that the <a target="_blank" rel="noopener" href="http://fantom.gsc.riken.jp/">FANTOM</a> database, which relies on CAGE-seq to directly capture the mRNA cap, provides the most accurate mapping (Radzisheuskaya et al., 2016). In this case, location and sequence are of approximately equal importance in design – an optimized sequence will do little if it is in the wrong place, but because the target window is more-narrow, there are fewer gRNA to choose from, and thus an optimal sequence may not be available.</p>
<h2 id="Predicting-gRNA-efficacy"><a href="#Predicting-gRNA-efficacy" class="headerlink" title="Predicting gRNA efficacy"></a>Predicting gRNA efficacy</h2><p>We and others have examined the ability to use sequence-based and other features to nominate gRNAs that are likely to be active, not only for SpCas9 but also for some other Cas enzymes. It seems to be the case that there is no universal scoring system for selecting a gRNA, as the method of producing the guide (synthetic, in vitro transcription, or lentiviral delivery) can affect the accuracy of a predictive score, as well as dynamic aspects of the target (e.g. accessibility due to chromatin status). No computational prediction is ever perfect, but this can decrease the number of guides one needs to test in the lab.</p>
<p>Importantly, for any modification of interest, it would be unwise to make conclusions on the basis of the activity of a single gRNA, and thus diversity of gRNAs across a gene should be examined whenever possible when using knockout or transcriptional modulation approaches.</p>
<h2 id="Avoiding-off-target-effects"><a href="#Avoiding-off-target-effects" class="headerlink" title="Avoiding off-target effects"></a>Avoiding off-target effects</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.addgene.org/hs-fs/hubfs/9_16-12_16/Off_Target.jpg?width=320&amp;name=Off_Target.jpg" alt="off target"></p>
<p>The off-target activity of gRNAs is important to consider. While the basic landscape of mismatches that can nevertheless still lead to activity has been established, and can be used to identify sites that are likely to give rise to an off-target effect, there’s not enough data to fully predict which sites will and will not show appreciable levels of modification. Whole-genome sequencing of cells modified by CRISPR indicates that the consequences of off-target activity, at least for the experimental conditions used, <a target="_blank" rel="noopener" href="https://doi.org/10.1016/j.stem.2014.04.020">led to no detectable mutations</a> (Veres et al., 2014). When working with single-cell clones, the authors note that “clonal heterogeneity may represent a more serious obstacle to the generation of truly isogenic cell lines than nuclease-mediated off-target effects.” Further, large-scale datasets of hundreds of genetic screens using genome-wide libraries have shown high concordance between different sequences targeting the same gene, suggesting that <a target="_blank" rel="noopener" href="https://doi.org/10.1038/s41467-019-13805-y">off-target effects did not overwhelm true signal in these assays</a> (Dempster et al., 2019). <mark>Again, the experimental strategy is clear: for any gene of interest, one should require that multiple gRNAs of different sequences give rise to the same phenotype in order to conclude that the phenotype is due to an on-target effect.</mark></p>
<h2 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h2><p>Selection of gRNAs for an experiment needs to balance maximizing on-target activity while minimizing off-target activity, which sounds obvious but can often require difficult decisions. For example, would it be better to use a less-active gRNA that targets a truly unique site in the genome, or a more-active gRNA with one additional target site in a region of the genome with no known function? For the creation of stable cell models that are to be used for long-term study, the former may be the better choice. For a genome-wide library to conduct genetic screens, however, a library composed of the latter would likely be more effective, so long as care is taken in the interpretation of results by requiring multiple sequences targeting a gene to score in order to call that gene a hit. </p>
<p>This is an exciting time for functional genomics, with an ever-expanding list of tools to probe gene function. The best tools are only as good as the person using them, and the proper use of CRISPR technology will always depend on careful experimental design, execution, and analysis.</p>
<p><a target="_blank" rel="noopener" href="https://blog.addgene.org/cs/c/?cta_guid=eb8f44bc-44a1-4a74-b795-fc62e4bd999b&amp;signature=AAH58kFGxYBwUqhtbv3m_F5FmkyUXDM9kA&amp;pageId=639296104&amp;placement_guid=def26d9c-3f9c-4d7b-b065-3e0d0e24669b&amp;click=14f5cbe3-91ae-4723-b50d-f76f8855ebfd&amp;hsutk=63a21ad163b77ef76edafdf81b1c7729&amp;canon=https%3A%2F%2Fblog.addgene.org%2Fhow-to-design-your-grna-for-crispr-genome-editing&amp;utm_referrer=https%3A%2F%2Fzlab.bio%2F&amp;portal_id=306096&amp;redirect_url=APefjpFmNyisrm0YvXDsVvD8exzKJwHh12PP3Eb7kCG4rblf8_jt2tL3yDLHubtqJukRDv9dl8n0yaEVc997abA6ChZ3s6AZEPYZYlS6jqPYlvDpLcemXHHPq6qwkEfjJozFmwDuTUKZh1-F30k2j1Es5UbxW-Lp2uUG0kHMk5qK9plNYkeCzitkxZ8VSkenTHmM8fn6vbZUMZxK9OVkysBj1_Vm-NObXjeuRDl3cu6OgK8rFuKYoHavgb_B1iP_xCBt4LP6iIyV5EWnhPrq9U7rkc4V281NUg&amp;__hstc=246494683.63a21ad163b77ef76edafdf81b1c7729.1676516750641.1678021662477.1679380686585.6&amp;__hssc=246494683.1.1679380686585&amp;__hsfp=2671046202&amp;contentType=blog-post"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://f.hubspotusercontent40.net/hubfs/306096/hub_generated/resized/9dd75d4c-951f-4dbf-b99e-9a4aaff8a82d.jpeg" alt="Download Addgene&#39;s CRISPR 101 eBook!"></a></p>
<hr>
<p><em>Many thanks to our guest blogger John Doench!</em></p>
<p><em><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.addgene.org/hs-fs/hubfs/4_17_to_6_17/howToDesignGRNAUpdate_JD_2017_5_3/John_Doench-min.jpeg?width=122&amp;name=John_Doench-min.jpeg" alt="CRISPR Expert John Doench">John Doench is the Director of R&amp;D in the <a target="_blank" rel="noopener" href="https://www.broadinstitute.org/scientific-community/science/platforms/gpp/genetic-perturbation-platform">Genetic Perturbation Platform</a> at the <a target="_blank" rel="noopener" href="https://www.broadinstitute.org/">Broad Institute</a> and has worked with many Addgenies to help improve the understanding, curation, and explanation of our <a target="_blank" rel="noopener" href="https://www.addgene.org/crispr/">CRISPR resources</a>. He really likes small RNAs.
</em></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css"></article><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/cover/default_top_dark.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/img/image-20220813060933967.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/img/image-20220813060933967.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/6d88afb1.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/cover/6d88afb1.webp?x-oss-process=style/cover" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Co-IP实验细节</div><div class="content">如题</div></div></a></div><div class="next-post pull-right"><a href="/posts/6df8c2ad.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/cover/ccce23d1.webp?x-oss-process=style/cover" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">在2023年用诺基亚是一种怎样的体验</div><div class="content">我爱它</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-pinglun"></use></svg><span> 评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div><div class="author-info__name">Eamon</div><a href="/atom.xml" title="RSS订阅源"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-RSS"></use></svg></a><div class="author-info__description"></div></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">90</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#mportant-considerations-before-you-start-an-experiment-with-CRISPR"><span class="toc-text">mportant considerations before you start an experiment with CRISPR</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-hammer-Gene-knockout-by-NHEJ"><span class="toc-text">The hammer: Gene knockout by NHEJ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-jigsaw-Editing-by-HDR-base-editing-and-prime-editing"><span class="toc-text">The jigsaw: Editing by HDR, base editing, and prime editing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-wrench-Gene-activation-and-inhibition-by-CRISPRa-and-CRISPRi"><span class="toc-text">The wrench: Gene activation and inhibition by CRISPRa and CRISPRi</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Predicting-gRNA-efficacy"><span class="toc-text">Predicting gRNA efficacy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Avoiding-off-target-effects"><span class="toc-text">Avoiding off-target effects</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusions"><span class="toc-text">Conclusions</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/566f3c3a.html" title="2023赛季总结大会经验贴">2023赛季总结大会经验贴</a><time datetime="2023-11-13T15:08:12.000Z" title="更新于 2023-11-13 23:08:12">2023-11-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/f58a8b1f.html" title="interview draft">interview draft</a><time datetime="2023-11-06T16:47:12.000Z" title="更新于 2023-11-07 00:47:12">2023-11-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/eb9fc546.html" title="海1">海1</a><time datetime="2023-11-01T08:39:03.000Z" title="更新于 2023-11-01 16:39:03">2023-11-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/11c2d4b7.html" title="snRNA-L1 chimeras的形成机制">snRNA-L1 chimeras的形成机制</a><time datetime="2023-11-01T02:31:09.000Z" title="更新于 2023-11-01 10:31:09">2023-11-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/eb9fc596.html" title="海2">海2</a><time datetime="2023-10-31T13:46:02.000Z" title="更新于 2023-10-31 21:46:02">2023-10-31</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="running-time"><script>setInterval(()=>{let create_time=Math.round(new Date('2022-03-25 00:00:00').getTime()/1000);let timestamp=Math.round((new Date().getTime()+8*60*60*1000)/1000);let second=timestamp-create_time;let time=new Array(0,0,0,0,0);if(second>=365*24*3600){time[0]=parseInt(second/(365*24*3600));second%=365*24*3600;}if(second>=24*3600){time[1]=parseInt(second/(24*3600));second%=24*3600;}if(second>=3600){time[2]=parseInt(second/3600);second%=3600;}if(second>=60){time[3]=parseInt(second/60);second%=60;}if(second>0){time[4]=second;}currentTimeHtml='本站已苟且偷生 '+time[0]+' 年 '+time[1]+' 天 '+time[2]+' 时 '+time[3]+' 分 '+time[4]+' 秒';document.getElementById("running-time").innerHTML=currentTimeHtml;},1000);</script></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button id="refresh-cache" type="button" title="刷新缓存" onclick="refreshCache()"><i class="fas fa-refresh fa-spin"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadWaline () {
  function insertCSS () {
    const link = document.createElement("link")
    link.rel = "stylesheet"
    link.href = "https://unpkg.com/@waline/client/dist/waline.css"
    document.head.appendChild(link)
  }

  function initWaline () {
    const waline = Waline.init(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://walineserver.fanyiming.life/',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: false,
    }, {"emoji":["//unpkg.com/@waline/emojis@1.1.0/qq"]}))
  }

  if (typeof Waline === 'function') initWaline()
  else {
    insertCSS()
    getScript('https://unpkg.com/@waline/client/dist/waline.js').then(initWaline)
  }
}

if ('Waline' === 'Waline' || !false) {
  if (false) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
  else setTimeout(loadWaline, 0)
} else {
  function loadOtherComment () {
    loadWaline()
  }
}</script></div><script async src="/js/custom/customnopjax.js"></script><script data-pjax async src="/js/custom/refresh.js"></script><script async src="https://cdn.jsdelivr.net/npm/js-heo@1.0.11/categoryBar/categoryBar.js"></script><script async src="/js/custom/categoryBar_suppl.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><!--APlayer的依赖--><script src="/js/Meting.min.js"></script><!--Meting的依赖--><script> var meting_api = 'https://meting.sinzmise.tk/api?server=:server&type=:type&id=:id&auth=:auth&r=:r';</script><meting-js server="netease" type="playlist" id="2949465538" autoplay="true" fixed=true order="random"></meting-js><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('swiper-position');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/7b9e5580.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/cover/7b9e5580.webp?x-oss-process=style/cover" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-10-12</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/7b9e5580.html&quot;);" href="javascript:void(0);" alt="">生物学的历史框架</a><div class="blog-slider__text">给生物学的历史画几个锚点</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/7b9e5580.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/4767497a.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/cover/4767497a.webp?x-oss-process=style/cover" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/4767497a.html&quot;);" href="javascript:void(0);" alt="">当我开始尝试构建三观</a><div class="blog-slider__text">我才发现我没有三观</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/4767497a.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/25a9c68a.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/img/9d627b30a94d17b6b43672cfcfa3788f74966c44.jpg@942w_660h_progressive.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/25a9c68a.html&quot;);" href="javascript:void(0);" alt="">做自己尊重的人</a><div class="blog-slider__text">饶毅 2015年 北京大学 本科生毕业典礼 教师代表致辞</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/25a9c68a.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/55e85240.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/cover/55e85240.webp?x-oss-process=style/cover" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/55e85240.html&quot;);" href="javascript:void(0);" alt="">Butterfly主题首页副标题自定义随机句子</a><div class="blog-slider__text">从自定义的句子库中随机选择一句展示</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/55e85240.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/cb901750.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://eamonimgbed.oss-cn-beijing.aliyuncs.com/img/cover_wzwhrz.webp?x-oss-process=style/cover" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/cb901750.html&quot;);" href="javascript:void(0);" alt="">网站维护日志</a><div class="blog-slider__text">魔改记录等</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/cb901750.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('post');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('post') && (location.pathname ==='/'|| '/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("https://gitcalendar.fanyiming.life/api?EamonNKU",['#e4dfd7', '#f9f4dc', '#f7e8aa', '#f7e8aa', '#f8df72', '#fcd217', '#fcc515', '#f28e16', '#fb8b05', '#d85916', '#f43e06'],'EamonNKU')
    }
  </script><!-- hexo injector body_end end --></body></html>