document.addEventListener("DOMContentLoaded",(function(e){var t,n=document.getElementById("steps-container"),s=document.getElementById("steps-content"),o=0,r=document.getElementById("substeps-container"),c=document.getElementById("substeps-content"),d=0,u=document.getElementById("prev-btn"),a=document.getElementById("next-btn"),i=[];function l(){for(var e=0,t=0;t<o;t++)e+=i[t].substeps.length;return e+=d}function m(){for(var e=document.getElementsByClassName("step-btn"),t=0;t<e.length;t++)t===o?e[t].classList.add("active"):e[t].classList.remove("active");s.querySelector("h2").textContent=i[o].title,s.querySelector("p").textContent=i[o].content,function(){for(var e=i[o].substeps,t="",n=0;n<e.length;n++)t+='<button class="substep-btn">'+e[n].title+"</button>";r.innerHTML=t;for(var s=document.getElementsByClassName("substep-btn"),c=0;c<s.length;c++)s[c].addEventListener("click",(function(){d=Array.from(s).indexOf(this),p()}))}(),p(),u.disabled=0===o,o===i.length-1?a.disabled=!0:a.disabled=!1}function p(){for(var e=document.getElementsByClassName("substep-btn"),t=0;t<e.length;t++)t===d?e[t].classList.add("active"):e[t].classList.remove("active");c.querySelector("h3").textContent=i[o].substeps[d].title,c.querySelector("p").textContent=i[o].substeps[d].content;for(var n=0,s=0;s<i.length;s++)n+=i[s].substeps.length;var r=(l()+1)/n*100;document.querySelector(".progress-bar-inner").style.width=r+"%",document.getElementById("currentSubStep").textContent=l()+1,document.getElementById("totalSubsteps").textContent=n}function b(){d>0?(d--,p()):o>0&&(o--,d=i[o].substeps.length-1,m(),p())}function y(){d<i[o].substeps.length-1?(d++,p()):o<i.length-1&&(o++,d=0,m(),p())}u.addEventListener("click",(function(){b()})),a.addEventListener("click",(function(){y()})),(t=new XMLHttpRequest).overrideMimeType("application/json"),t.open("GET","input.json",!0),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);i=e.steps,function(){for(var e="",t=0;t<i.length;t++)e+='<button class="step-btn">'+i[t].title+"</button>";n.innerHTML=e;for(var s=document.getElementsByClassName("step-btn"),r=0;r<s.length;r++)s[r].addEventListener("click",(function(){o=Array.from(s).indexOf(this),d=0,m()}))}(),m()}},t.send(),document.addEventListener("keydown",(function(e){37===e.keyCode?o>0&&(o--,d=0,m()):39===e.keyCode?o<i.length-1&&(o++,d=0,m()):38===e.keyCode?b():40!==e.keyCode&&32!==e.keyCode||y()}))}));