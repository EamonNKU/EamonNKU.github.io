document.addEventListener("DOMContentLoaded",(function(e){var t,n=document.getElementById("steps-container"),s=document.getElementById("steps-content"),o=0,c=document.getElementById("substeps-container"),d=document.getElementById("substeps-content"),r=0,l=document.getElementById("prev-btn"),u=document.getElementById("next-btn"),a=[];function i(){for(var e=0,t=0;t<o;t++)e+=a[t].substeps.length;return e+=r}function m(){for(var e=document.getElementsByClassName("step-btn"),t=0;t<e.length;t++)t===o?e[t].classList.add("active"):e[t].classList.remove("active");s.querySelector("h2").textContent=a[o].title,function(){for(var e=a[o].substeps,t="",n=0;n<e.length;n++)t+='<button class="substep-btn">'+e[n].title+"</button>";c.innerHTML=t;for(var s=document.getElementsByClassName("substep-btn"),d=0;d<s.length;d++)s[d].addEventListener("click",(function(){r=Array.from(s).indexOf(this),p()}))}(),p()}function p(){l.disabled=0===o&&0===r,console.log(a[o].substeps.length),o===a.length-1&&r===a[o].substeps.length-1?u.disabled=!0:u.disabled=!1;for(var e=document.getElementsByClassName("substep-btn"),t=0;t<e.length;t++)t===r?e[t].classList.add("active"):e[t].classList.remove("active");d.querySelector("h3").textContent=a[o].substeps[r].title,d.querySelector("p").textContent=a[o].substeps[r].content;for(var n=0,s=0;s<a.length;s++)n+=a[s].substeps.length;var c=(i()+1)/n*100;document.querySelector(".progress-bar-inner").style.width=c+"%",document.getElementById("currentSubStep").textContent=i()+1,document.getElementById("totalSubsteps").textContent=n}function b(){r>0?(r--,p()):o>0&&(o--,r=a[o].substeps.length-1,m(),p())}function g(){r<a[o].substeps.length-1?(r++,p()):o<a.length-1&&(o++,r=0,m(),p())}l.addEventListener("click",(function(){b()})),u.addEventListener("click",(function(){g()})),(t=new XMLHttpRequest).overrideMimeType("application/json"),t.open("GET","input.json",!0),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);a=e.steps,function(){for(var e="",t=0;t<a.length;t++)e+='<button class="step-btn">'+a[t].title+"</button>";n.innerHTML=e;for(var s=document.getElementsByClassName("step-btn"),c=0;c<s.length;c++)s[c].addEventListener("click",(function(){o=Array.from(s).indexOf(this),r=0,m()}))}(),m()}},t.send(),document.addEventListener("keydown",(function(e){37===e.keyCode?o>0&&(o--,r=0,m()):39===e.keyCode?o<a.length-1&&(o++,r=0,m()):38===e.keyCode?b():40!==e.keyCode&&32!==e.keyCode||g()}))}));